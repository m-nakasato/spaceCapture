(()=>{"use strict";const t={spaces:null,counter:0,turn:1,spaces1:0,spaces2:0},e=40,r="#333";function a(e,r){1==t.turn?(document.querySelector("#x"+e+"y"+r).setAttribute("fill","lime"),document.querySelector("#player1 .spaces span").innerText=++t.spaces1):(document.querySelector("#x"+e+"y"+r).setAttribute("fill","magenta"),document.querySelector("#player2 .spaces span").innerText=++t.spaces2)}document.documentElement.addEventListener("touchstart",(function(t){t.touches.length>=2&&t.preventDefault()}),{passive:!1});var s=0;document.documentElement.addEventListener("touchend",(function(t){var e=(new Date).getTime();e-s<350&&t.preventDefault(),s=e}),!1),window.addEventListener("DOMContentLoaded",(s=>{!function(){let s=document.querySelector("#board"),c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("fill","black"),c.setAttribute("width",e),c.setAttribute("height",e),c.setAttribute("rx",9),c.setAttribute("ry",9);let u=new Array(7);for(let t=0;t<7;t++)u[t]=new Array(7);for(let t=0;t<7;t++)for(let r=0;r<7;r++)u[t][r]=c.cloneNode(!0),u[t][r].setAttribute("x",3+e*r),u[t][r].setAttribute("y",3+e*t),u[t][r].setAttribute("id","x"+r+"y"+t),s.appendChild(u[t][r]);let l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("stroke",r),l.setAttribute("stroke-width",6),l.setAttribute("class","wall"),l.setAttribute("data-type","h"),l.setAttribute("data-clicked",0);let n=new Array(8);for(let t=0;t<8;t++)n[t]=Array(7);for(let r=0;r<8;r++)for(let a=0;a<7;a++)n[r][a]=l.cloneNode(!0),n[r][a].setAttribute("x1",3+e*a+3),n[r][a].setAttribute("y1",3+e*r),n[r][a].setAttribute("x2",3+e*(a+1)-3),n[r][a].setAttribute("y2",3+e*r),n[r][a].setAttribute("data-x",a),n[r][a].setAttribute("data-y",r),s.appendChild(n[r][a]),t.counter++;let i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("stroke",r),i.setAttribute("stroke-width",6),i.setAttribute("class","wall"),i.setAttribute("data-type","v"),i.setAttribute("data-clicked",0);let o=new Array(7);for(let t=0;t<7;t++)o[t]=Array(8);for(let r=0;r<7;r++)for(let a=0;a<8;a++)o[r][a]=i.cloneNode(!0),o[r][a].setAttribute("x1",3+e*a),o[r][a].setAttribute("y1",3+e*r+3),o[r][a].setAttribute("x2",3+e*a),o[r][a].setAttribute("y2",3+e*(r+1)-3),o[r][a].setAttribute("data-x",a),o[r][a].setAttribute("data-y",r),s.appendChild(o[r][a]),t.counter++;let d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("r",3),d.setAttribute("fill",r);let A=new Array(8);for(let t=0;t<8;t++)A[t]=new Array(8);for(let t=0;t<8;t++)for(let r=0;r<8;r++)A[t][r]=d.cloneNode(!0),A[t][r].setAttribute("cx",3+e*r),A[t][r].setAttribute("cy",3+e*t);t.spaces=new Array(7);for(let e=0;e<7;e++)t.spaces[e]=Array(7).fill(0);document.querySelectorAll(".wall").forEach((e=>{e.addEventListener("click",(e=>{if(1==e.currentTarget.getAttribute("data-clicked"))return;e.currentTarget.setAttribute("data-clicked",1);let r=!1,s=e.currentTarget.getAttribute("data-x"),c=e.currentTarget.getAttribute("data-y");c<7&&s<7&&(t.spaces[c][s]++,4==t.spaces[c][s]&&(a(s,c),r=!0)),"h"===e.currentTarget.getAttribute("data-type")?c>0&&(t.spaces[c-1][s]++,4==t.spaces[c-1][s]&&(a(s,c-1),r=!0)):s>0&&(t.spaces[c][s-1]++,4==t.spaces[c][s-1]&&(a(s-1,c),r=!0)),0==--t.counter&&(t.spaces1>t.spaces2?alert("Player 1 Win!!"):alert("Player 2 Win!!")),r||(1==t.turn?(t.turn=2,document.querySelector("#player1 .arrow").classList.remove("current"),document.querySelector("#player2 .arrow").classList.add("current")):(t.turn=1,document.querySelector("#player1 .arrow").classList.add("current"),document.querySelector("#player2 .arrow").classList.remove("current"))),console.table(t.spaces)}))}))}()}))})();